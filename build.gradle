plugins {
    id 'java'
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.13'
}

group = 'javafxapplication1'
version = '1.0-SNAPSHOT'

java {
    toolchain {
        // Compilamos con Java 21 para que Gradle 8.0.2 lo soporte sin problemas
        languageVersion = JavaLanguageVersion.of(21)
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // JavaFX lo aporta automáticamente el plugin, 
    // ¡no hace falta declarar aquí javafx-controls ni javafx-fxml!
    implementation 'mysql:mysql-connector-java:8.0.33'
    implementation 'org.slf4j:slf4j-api:2.0.7'
    runtimeOnly   'ch.qos.logback:logback-classic:1.4.5'
    implementation 'org.mindrot:jbcrypt:0.4'
    implementation 'commons-codec:commons-codec:1.15'
}

javafx {
    // Versión pública en Maven Central
    version = '23.0.2'
    modules = [ 'javafx.controls', 'javafx.fxml' ]
}

application {
    // Tu clase principal
    mainClass = 'javafxapplication1.JavaFXApplication1'
}

tasks.named('run', JavaExec) {
    // Ajusta el module-path para JavaFX
    jvmArgs = [
      '--module-path', configurations.javafx.modulePath.asPath,
      '--add-modules',    'javafx.controls,javafx.fxml'
    ]
}
